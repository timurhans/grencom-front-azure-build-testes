(this["webpackJsonpgreencom-front"]=this["webpackJsonpgreencom-front"]||[]).push([[0],{136:function(e,t,o){},188:function(e,t,o){"use strict";o.r(t);var a=o(1),n=o.n(a),c=o(26),r=o.n(c),i=(o(86),o(38)),s=o(39),d=o(43),l=o(42),u=o(2),j=o(73),b=o(74),p=o(4),O=o(40),m=o(5),h=o.n(m),f=o(9),v=o(75),x=o.n(v),g="https://greencomapi.azurewebsites.net";function _(e,t){var o=Object(a.useState)((function(){return function(e,t){var o=!1;try{o=JSON.parse(localStorage.getItem(e))}catch(a){o=!1}return o||t}(e,t)})),n=Object(u.a)(o,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){localStorage.setItem(e,JSON.stringify(c))}),[c]),[c,r]}function C(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=Object(a.useState)([]),c=Object(u.a)(n,2),r=c[0],i=c[1],s=_("token",null),d=Object(u.a)(s,2),l=d[0];d[1];return Object(a.useEffect)((function(){if(""!==t){var o={produto:e,periodo:t};h()({method:"GET",headers:{Authorization:"Token "+l},url:"https://greencomapi.azurewebsites.net/periodos/",params:o}).then((function(e){i(e.data.dados)}))}}),[e,t,o]),{dadosPeriodo:r}}var N=o(0),w=function(){var e=Object(a.useRef)(null),t=_("username",null),o=Object(u.a)(t,1)[0],n=_("isRep",null),c=[{label:"Conta",icon:"pi pi-user",url:"/conta"},{label:"Pedidos",icon:"pi pi-upload",url:"/pedidos"}];Object(u.a)(n,1)[0]&&(c.push({label:"Promocoes",icon:"pi pi-external-link",url:"/promocoes"}),c.push({label:"Clientes",icon:"pi pi-external-link",url:"/clientes"}));var r=[{label:o,items:c}];return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(b.Menu,{model:r,popup:!0,ref:e,id:"popup_menu"}),Object(N.jsx)(p.Button,{icon:"pi pi-user",onClick:function(t){return e.current.toggle(t)},"aria-controls":"popup_menu","aria-haspopup":!0})]})};function S(e){var t=_("categorias",[]),o=Object(u.a)(t,1)[0],n=Object(a.useState)(""),c=Object(u.a)(n,2),r=c[0],i=c[1],s=_("tipoConta",[]),d=Object(u.a)(s,1)[0],l=Object(N.jsx)("a",{href:"/",children:Object(N.jsx)("img",{alt:"logo",src:"https://ondasstr092020.blob.core.windows.net/modelo/logo.png",height:"40",className:"p-mr-2"})}),b=Object(N.jsx)("a",{href:"/login",children:"Login"});return e.loggedIn&&(b=Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(O.InputText,{onChange:function(e){i(e.target.value),e.target.value.length>=13&&/^\d+$/.test(e.target.value)&&(e.preventDefault(),window.location="/busca?query="+e.target.value,i(""))},placeholder:"Buscar",type:"text"}),Object(N.jsx)(p.Button,{onClick:function(e){""!==r&&(e.preventDefault(),window.location="/busca?query="+r,i(""))},icon:"pi pi-search",className:"p-button-rounded p-button-secondary"}),Object(N.jsx)(p.Button,{icon:"pi pi-shopping-cart",onClick:function(e){return window.location.href="/carrinho"},"aria-controls":"popup_menu","aria-haspopup":!0}),"visitante"===d?Object(N.jsx)(p.Button,{icon:"pi pi-user",onClick:function(e){return window.location.href="/conta"},"aria-controls":"popup_menu","aria-haspopup":!0}):Object(N.jsx)(w,{})]})),Object(N.jsx)("div",{children:Object(N.jsx)("div",{className:"card",children:Object(N.jsx)(j.Menubar,{model:o,start:l,end:b})})})}o(136);var y=o(77),k=function(e){return Object(N.jsx)("div",{className:"product-item",children:Object(N.jsx)("div",{className:"product-item-content",children:Object(N.jsx)("div",{className:"mb-3",children:Object(N.jsx)("a",{href:e.link,children:Object(N.jsx)("img",{src:e.url_imagem,className:"product-image"})})})})})},B=function(e){Object(d.a)(o,e);var t=Object(l.a)(o);function o(e){var a;return Object(i.a)(this,o),(a=t.call(this,e)).state={banners:[]},a}return Object(s.a)(o,[{key:"componentDidMount",value:function(){this.updateBanners(),document.title="Greenish B2B"}},{key:"updateBanners",value:function(){var e=this;h()({method:"GET",url:"https://greencomapi.azurewebsites.net/home"}).then((function(t){e.setState({banners:t.data.banners}),console.log(e.state.banners)}))}},{key:"render",value:function(){return Object(N.jsx)("div",{children:Object(N.jsx)(y.Carousel,{value:this.state.banners,numVisible:1,numScroll:1,itemTemplate:k})})}}]),o}(n.a.Component),T=o(34),I=o(41),P=o.n(I),A=o(12);function E(e){var t=Object(a.useState)(""),o=Object(u.a)(t,2),n=o[0],c=o[1],r=Object(a.useState)(""),i=Object(u.a)(r,2),s=i[0],d=i[1],l=_("token",null),j=Object(u.a)(l,2),b=(j[0],j[1]),m=_("loggedin",null),f=Object(u.a)(m,2)[1],v=_("clienteId",null),x=Object(u.a)(v,2)[1],C=_("clienteNome",null),w=Object(u.a)(C,2)[1],S=_("isRep",null),y=Object(u.a)(S,2),k=(y[0],y[1]),B=_("username",null),I=Object(u.a)(B,2)[1],E=_("carrinhoId",null),z=Object(u.a)(E,2)[1],q=_("categorias",[]),D=Object(u.a)(q,2)[1],F=_("colecoes",[]),R=Object(u.a)(F,2)[1],G=_("periodos",[]),L=Object(u.a)(G,2)[1],M=_("tipoConta",[]),V=Object(u.a)(M,2)[1],J=Object(a.useRef)(null);Object(a.useEffect)((function(){document.title="Greenish B2B | Login"}),[]);return Object(N.jsxs)("div",{children:[Object(N.jsx)(A.Messages,{ref:J}),Object(N.jsxs)("div",{className:"p-field",children:[Object(N.jsx)("label",{htmlFor:"login",children:"Login"}),Object(N.jsx)(O.InputText,{id:"login",value:n,onChange:function(e){return c(e.target.value)}})]}),Object(N.jsxs)("div",{className:"p-field",children:[Object(N.jsx)("label",{htmlFor:"senha",children:"Senha"}),Object(N.jsx)(T.Password,{id:"senha",value:s,onChange:function(e){return d(e.target.value)},feedback:!1})]}),Object(N.jsx)(p.Button,{label:"Entrar",onClick:function(){return function(){var e=new FormData;e.append("username",n),e.append("password",s),h.a.post(g+"/api-token-auth/",e).then((function(e){var t={headers:{Authorization:"Token "+e.data.token}};console.log(t),b(e.data.token),h.a.get(g+"/login/",t).then((function(e){console.log(e.data),f(!0),x(e.data.clienteId),w(e.data.clienteNome),k(e.data.isRep),I(e.data.username),z(null),D(e.data.cats),R(e.data.colecoes),L(e.data.periodos),V(e.data.tipo_conta),window.location.href="/",P.a.event({action:"login",user_type:e.data.tipo_conta})}))})).catch((function(e){J.current.show([{severity:"error",summary:"Usuario ou senha Incorretos",sticky:!1}]),c(""),d("")}))}()}})]})}var z=o(27),q=o(23),D=o(8),F=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),o=t[0],c=t[1],r=_("token",null),i=Object(u.a)(r,2),s=i[0],d=(i[1],_("clienteId",null)),l=Object(u.a)(d,2)[1],j=_("clienteNome",null),b=Object(u.a)(j,2)[1],O=_("carrinhoId",null),m=Object(u.a)(O,2),f=(m[0],m[1]);Object(a.useEffect)((function(){h()({method:"GET",headers:{Authorization:"Token "+s},url:"https://greencomapi.azurewebsites.net/clientes/"}).then((function(e){console.log(e.data.clientes),c(e.data.clientes)})),document.title="Greenish B2B | Clientes"}),[]);var v=function(e,t){l(e),b(t),f(null),window.location.href="/"};return Object(N.jsx)("div",{children:Object(N.jsx)("div",{className:"card",children:Object(N.jsxs)(q.DataTable,{value:o,children:[Object(N.jsx)(D.Column,{field:"cnpj",header:"CNPJ",filter:!0,filterPlaceholder:"Buscar"}),Object(N.jsx)(D.Column,{field:"razao_social",header:"Razao Social",filter:!0,filterPlaceholder:"Buscar"}),Object(N.jsx)(D.Column,{field:"uf",header:"UF"}),Object(N.jsx)(D.Column,{field:"cidade",header:"Cidade",filter:!0,filterPlaceholder:"Buscar"}),Object(N.jsx)(D.Column,{field:"tabela_precos",header:"Tabela"}),Object(N.jsx)(D.Column,{field:"desc_cond_pag",header:"Condicao Pagamento"}),Object(N.jsx)(D.Column,{body:function(e){return Object(N.jsx)(n.a.Fragment,{children:Object(N.jsx)(p.Button,{label:"Selecionar",onClick:function(){return function(e){Object(z.confirmDialog)({message:"Itens nao salvos no carrinho serao apagados. Confirma alteracao?",header:"Confirmacao",icon:"pi pi-exclamation-triangle",acceptLabel:"Sim",rejectLabel:"Nao",accept:function(){return v(e.id,e.nome)}})}(e)}})})}})]})})})},R=o(78),G=o(15);o(168),o(170);function L(e){return null==e?"":e.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}var M=o(79),V=o.n(M),J=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),o=t[0],c=t[1],r=_("token",null),i=Object(u.a)(r,2),s=i[0],d=(i[1],_("clienteId",null)),l=Object(u.a)(d,2)[1],j=_("clienteNome",null),b=Object(u.a)(j,2)[1],O=_("carrinhoId",null),m=Object(u.a)(O,2),f=m[0],v=m[1],x=Object(a.useState)(!1),C=Object(u.a)(x,2),w=C[0],S=C[1],y=Object(a.useRef)(null),k=_("isRep",null),B=Object(u.a)(k,1)[0],T=function(){h()({method:"GET",url:"https://greencomapi.azurewebsites.net/pedidos/",headers:{Authorization:"Token "+s}}).then((function(e){c(e.data.pedidos)}))};Object(a.useEffect)((function(){T(),document.title="Greenish B2B | Pedidos"}),[]);var I=function(e,t,o){h()({method:"GET",url:g+"/pedidos/retoma/"+e+"/",headers:{Authorization:"Token "+s},params:{carrinhoAtualId:f}}).then((function(a){a.data.confirmed?(v(e),l(t),b(o),window.location.href="/carrinho"):y.current.show([{severity:"error",summary:a.data.message,sticky:!1}])}))};console.log(o);var P=function(e){return e.toLocaleString("en-US",{style:"currency",currency:"BRL"})};return Object(N.jsxs)("div",{children:[Object(N.jsx)(A.Messages,{ref:y}),Object(N.jsx)(G.Dialog,{title:"Processando",visible:w,onHide:function(){return""},children:Object(N.jsx)(R.ProgressSpinner,{})}),Object(N.jsx)("div",{className:"card",children:Object(N.jsxs)(q.DataTable,{value:o,children:[Object(N.jsx)(D.Column,{field:"cliente__razao_social",header:"Razao Social",filter:!0,filterPlaceholder:"Buscar"}),Object(N.jsx)(D.Column,{field:"colecao",header:"Colecao",filter:!0,filterPlaceholder:"Buscar"}),Object(N.jsx)(D.Column,{header:"Valor",body:function(e){return"".concat(P(e.valor_total))}}),Object(N.jsx)(D.Column,{header:"Valor Entregar",body:function(e){return"".concat(P(e.valor_total_entregar))}}),Object(N.jsx)(D.Column,{field:"qtd_total",header:"Qtd"}),Object(N.jsx)(D.Column,{field:"cliente__desc_cond_pag",header:"Cond Pag"}),Object(N.jsx)(D.Column,{body:function(e){return null==e.data_liberacao?"...":V()(e.data_liberacao,"YYYY-MM-DDTHH:mm:ssZ").format("DD/MM/YYYY")},header:"Data"}),Object(N.jsx)(D.Column,{field:"liberado_rep",header:"Liberado",body:function(e){return e.liberado_rep?Object(N.jsx)(N.Fragment,{children:"Sim"}):Object(N.jsx)(N.Fragment,{children:"N\xe3o"})}}),Object(N.jsx)(D.Column,{field:"enviado_fabrica",header:"Enviado",body:function(e){return e.enviado_fabrica?Object(N.jsx)(N.Fragment,{children:"Sim"}):Object(N.jsx)(N.Fragment,{children:"N\xe3o"})}}),Object(N.jsx)(D.Column,{field:"codigo_erp",header:"ID Ondas"}),Object(N.jsx)(D.Column,{header:"Acoes",body:function(e){return Object(N.jsxs)(n.a.Fragment,{children:[e.liberado_rep?Object(N.jsx)(p.Button,{label:"Visualizar",onClick:function(){return window.location.href="/pedido/"+e.id}}):Object(N.jsx)(p.Button,{label:"Alterar",onClick:function(){return function(e){Object(z.confirmDialog)({message:"Itens nao salvos no carrinho serao apagados. Confirma alteracao?",header:"Confirmacao",icon:"pi pi-exclamation-triangle",acceptLabel:"Sim",rejectLabel:"Nao",accept:function(){return I(e.id,e.cliente__id,e.cliente__nome)}})}(e)}}),e.liberado_rep?Object(N.jsx)(N.Fragment,{}):e.liberado_cliente&&B?Object(N.jsx)(p.Button,{label:"Processar",onClick:function(){return function(e){S(!0),h()({method:"GET",url:g+"/pedidos/processa/"+e.id+"/",headers:{Authorization:"Token "+s}}).then((function(e){S(!1),e.data.confirmed?T():y.current.show([{severity:"error",summary:e.data.message,sticky:!0}])}))}(e)}}):Object(N.jsx)(N.Fragment,{})]})}})]})})]})},Q=function(){var e=_("token",null),t=Object(u.a)(e,2),o=t[0],c=(t[1],_("carrinhoId",null)),r=Object(u.a)(c,2),i=r[0],s=(r[1],Object(a.useRef)(null)),d=Object(a.useState)([]),l=Object(u.a)(d,2),j=l[0],b=l[1];Object(a.useEffect)((function(){O(),document.title="Greenish B2B | Promocoes"}),[]);var O=function(){h()({method:"GET",headers:{Authorization:"Token "+o},url:"https://greencomapi.azurewebsites.net/promocoes/"}).then((function(e){b(e.data.promocoes),console.log(e.data.promocoes)}))};return Object(N.jsxs)("div",{children:[Object(N.jsx)(A.Messages,{ref:s}),Object(N.jsx)("div",{className:"card",children:Object(N.jsxs)(q.DataTable,{value:j,children:[Object(N.jsx)(D.Column,{field:"descricao",header:"Promocao"}),Object(N.jsx)(D.Column,{header:"Acoes",body:function(e){var t=e.condicoes.slice().map((function(t,a){return Object(N.jsx)(p.Button,{className:"p-mr-2",label:e.tipo_condicao+" - "+t.condicao,onClick:function(){return function(e,t){var a=g+"/promocoes/"+i+"/";h()({method:"GET",url:a,headers:{Authorization:"Token "+o},params:{id_promocao:e,id_condicao:t}}).then((function(e){s.current.show([{severity:"success",summary:"Promo\xe7\xe3o computada com sucesso",sticky:!1}])}))}(e.id_promocao,t.id)}})}));return Object(N.jsx)(n.a.Fragment,{children:t})}})]})}),Object(N.jsx)(p.Button,{className:"p-d-block p-mx-auto p-mt-6",label:"Remover Promo\xe7\xf5es",onClick:function(){return function(){var e=g+"/promocoes/remove/"+i+"/";h()({method:"GET",headers:{Authorization:"Token "+o},url:e}).then((function(e){s.current.show([{severity:"success",summary:"Promo\xe7\xf5es Removidas com sucesso",sticky:!1}])}))}()}})]})};o(25);function U(e){var t=Object(a.useState)(""),o=Object(u.a)(t,2),n=o[0],c=o[1],r=Object(a.useState)(""),i=Object(u.a)(r,2),s=i[0],d=i[1],l=Object(a.useState)(""),j=Object(u.a)(l,2),b=j[0],O=j[1],m=_("token",null),f=Object(u.a)(m,2),v=f[0],x=(f[1],Object(a.useState)(!1)),C=Object(u.a)(x,2),w=C[0],S=C[1],y=Object(a.useRef)(null),k=_("tipoConta",null),B=Object(u.a)(k,1)[0];Object(a.useEffect)((function(){document.title="Greenish B2B | Conta"}),[]);return Object(N.jsxs)("div",{children:[Object(N.jsxs)(G.Dialog,{title:"Alterar Senha",visible:w,onHide:function(){return S(!1)},children:[Object(N.jsx)(A.Messages,{ref:y}),Object(N.jsx)("h5",{children:"Senha Atual"}),Object(N.jsx)(T.Password,{value:n,onChange:function(e){return c(e.target.value)},feedback:!1}),Object(N.jsx)("h5",{children:"Senha Nova"}),Object(N.jsx)(T.Password,{value:s,onChange:function(e){return d(e.target.value)},feedback:!1}),Object(N.jsx)("h5",{children:"Confirme a Nova Senha"}),Object(N.jsx)(T.Password,{value:b,onChange:function(e){return O(e.target.value)},feedback:!1}),Object(N.jsx)("h5",{}),Object(N.jsx)(p.Button,{label:"Confirmar",onClick:function(){return function(){if(s===b){var e={senhaNova:s,senhaAtual:n},t={headers:{Authorization:"Token "+v}};h.a.post(g+"/change_password/",e,t).then((function(e){e.data.confirmed?(localStorage.clear(),window.location.href="/login"):y.current.show([{severity:"error",summary:e.data.message,sticky:!1}])}))}else y.current.show([{severity:"error",summary:"Confirmacao de nova senha invalida",sticky:!1}]);c(""),d(""),O("")}()}})]}),"visitante"===B?Object(N.jsx)(N.Fragment,{}):Object(N.jsx)(p.Button,{label:"Alterar Senha",onClick:function(){return S(!0)}}),Object(N.jsx)(p.Button,{label:"Logout",onClick:function(){return function(){var e={headers:{Authorization:"Token "+v}};h.a.get(g+"/accounts/logout/",e).then((function(e){localStorage.clear(),window.location.href="/"}))}()}})]})}var H=o(24),Y=o(20),$=o(22),X=o(33),K=o(13);function W(e){var t=Object(a.useState)(!1),o=Object(u.a)(t,2),n=o[0],c=o[1];console.log(e.isBarCode),Object(a.useEffect)((function(){c(e.isBarCode)}),[e.isBarCode]);var r,i=function(){c(!1)};r=e.produto.produto__desconto>0?" - "+parseFloat(100*e.produto.produto__desconto).toFixed()+"% OFF":"";var s=Object(N.jsxs)("div",{children:[Object(N.jsx)("h4",{children:e.produto.produto__descricao}),Object(N.jsx)("p",{children:e.produto.produto__produto}),Object(N.jsx)(K.Chip,{label:L(e.produto.preco)+r})]});return Object(N.jsx)("div",{className:"p-shadow-2 p-m-2",children:Object(N.jsxs)(Y.Card,{header:s,children:[Object(N.jsx)("img",{top:!0,width:"100%",src:e.produto.produto__url_imagem,alt:"Sem Imagem"}),Object(N.jsx)("div",{className:"p-grid",children:Object(N.jsxs)("div",{className:"p-field p-col-12 p-md-3",children:[Object(N.jsx)(p.Button,{label:"Detalhes",icon:"pi pi-external-link",onClick:function(){c(!0)}}),Object(N.jsx)(G.Dialog,{header:e.produto.produto__produto,maximizable:!0,visible:n,style:{width:"75vw"},onHide:function(){return i()},children:Object(N.jsxs)("div",{className:"p-grid",children:[Object(N.jsx)("div",{className:"p-col",children:Object(N.jsx)("img",{top:!0,width:"100%",src:e.produto.produto__url_imagem,alt:"Sem Imagem"})}),Object(N.jsx)("div",{className:"p-col-fixed",style:{width:"500px"},children:Object(N.jsx)(Z,{isBarcode:e.isBarCode,onSave:i,produto:e.produto})})]})})]})})]})})}function Z(e){var t=Object(a.useState)(e.produto),o=Object(u.a)(t,1)[0],n=Object(a.useState)(e.isBarcode?"Pre-selecionados":""),c=Object(u.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)({}),d=Object(u.a)(s,2),l=d[0],j=d[1],b=Object(a.useState)(Object(N.jsx)("div",{})),O=Object(u.a)(b,2),m=O[0],f=O[1],v=_("token",null),x=Object(u.a)(v,2),w=x[0],S=(x[1],_("clienteId",null)),y=Object(u.a)(S,1)[0],k=_("carrinhoId",null),B=Object(u.a)(k,2),T=B[0],I=B[1],P=Object(a.useState)(!1),E=Object(u.a)(P,2),z=E[0],q=E[1],D=Object(a.useState)(""),F=Object(u.a)(D,2),R=F[0],L=F[1],M=Object(a.useRef)(null),V=C(o.produto__produto,r).dadosPeriodo;Object(a.useEffect)((function(){var e={};for(var t in V){var a=V[t].cor,n=new Array(o.produto__qtd_tamanhos).fill(0);e[a]=n}j(e)}),[V]),Object(a.useEffect)((function(){if(""!==r){var e=V.map((function(e){return Object(N.jsx)(ee,{dados:e,pedido:l,setPedido:j})}));f(e)}}),[l,r]);return Object(N.jsxs)("div",{children:[Object(N.jsx)(A.Messages,{ref:M}),Object(N.jsx)($.Dropdown,{placeholder:"Selecione Per\xedodo",id:"dropdown",value:r,options:JSON.parse(e.produto.produto__periodos),onChange:function(e){return i(e.value)}}),Object(N.jsxs)("div",{className:"p-grid",children:[Object(N.jsx)("div",{className:"p-col",children:"TIPO"}),Object(N.jsx)("div",{className:"p-col",children:"COR"}),function(e){return JSON.parse(e.produto.produto__tamanhos).map((function(e){return Object(N.jsx)("div",{className:"p-col-1",children:e})}))}(e)]}),m,Object(N.jsx)(p.Button,{label:"Observa\xe7\xe3o",onClick:function(){return q(!0)},className:"p-mr-2"}),Object(N.jsx)(G.Dialog,{header:"Observa\xe7\xe3o Item",visible:z,onHide:function(){return q(!1)},children:Object(N.jsx)("div",{children:Object(N.jsx)(X.InputTextarea,{rows:2,cols:50,value:R,onChange:function(e){return L(e.target.value)}})})}),Object(N.jsx)(p.Button,{label:"Adicionar",onClick:function(){var t=0;for(var a in l){t+=l[a].reduce((function(e,t){return e+t}),0)}var n={produto:o,periodo:r,qtds:l,qtd_total:t,clienteId:y,carrinhoId:T,observacao_item:R},c={headers:{Authorization:"Token "+w}};console.log(n),console.log(c.headers),t>0?h.a.post(g+"/carrinho/",n,c).then((function(t){t.data.confirmed?(e.onSave(),I(t.data.carrinhoId)):M.current.show([{severity:"error",summary:t.data.message,sticky:!0}])})).catch((function(e){console.log(e.message)})):M.current.show([{severity:"error",summary:"Quantidade deve ser maior que 0",sticky:!1}])}})]})}function ee(e){var t=function(e,t,o){null==e&&(e=0);var a=t.pedido;a[t.dados.cor][o]=e,t.setPedido(a)};return Object(N.jsxs)("div",{className:"p-grid",children:[Object(N.jsx)("div",{className:"p-col",children:e.dados.desc_liberacao}),Object(N.jsx)("div",{className:"p-col",children:e.dados.cor+" - "+e.dados.desc_cor}),function(e){var o=[];if(0===Object.keys(e.pedido).length)return o.map((function(e){return e}));console.log(e);var a=function(){var a=n;e.dados.liberacao?o.push(Object(N.jsx)("div",{className:"p-col-1 p-mt-4",children:Object(N.jsx)(H.InputNumber,{min:0,id:e.dados.cor+a,value:e.pedido[e.dados.cor][a],onValueChange:function(o){return t(o.value,e,a)},mode:"decimal",showButtons:!0,buttonLayout:"vertical",style:{width:"2.5em"},decrementButtonClassName:"p-button-secondary",incrementButtonClassName:"p-button-secondary",incrementButtonIcon:"pi pi-plus",decrementButtonIcon:"pi pi-minus"})})):o.push(Object(N.jsx)("div",{className:"p-col-1 p-mt-4",children:Object(N.jsxs)("span",{className:"p-float-label",children:[Object(N.jsx)(H.InputNumber,{max:e.dados.qtds[a],min:0,id:e.dados.cor+a,value:e.pedido[e.dados.cor][a],onValueChange:function(o){return t(o.value,e,a)},mode:"decimal",showButtons:!0,buttonLayout:"vertical",style:{width:"2.5em"},decrementButtonClassName:"p-button-secondary",incrementButtonClassName:"p-button-secondary",incrementButtonIcon:"pi pi-plus",decrementButtonIcon:"pi pi-minus"}),Object(N.jsx)("label",{htmlFor:e.dados.cor+a,children:e.dados.qtds[a]})]})}))};for(var n in e.dados.qtds)a();return o.map((function(e){return e}))}(e)]})}var te=o(80);function oe(){var e=Object(a.useState)(Object(N.jsx)("div",{})),t=Object(u.a)(e,2),o=t[0],n=t[1],c=Object(a.useState)(0),r=Object(u.a)(c,2),i=r[0],s=r[1],d=Object(a.useState)(12),l=Object(u.a)(d,2),j=l[0],b=l[1],O=Object(a.useState)(0),m=Object(u.a)(O,2),v=m[0],C=m[1],w=_("token",null),S=Object(u.a)(w,2),y=(S[0],S[1],_("colecao","Todas")),k=Object(u.a)(y,2),B=k[0],T=k[1],I=_("periodo","Todos"),P=Object(u.a)(I,2),A=P[0],E=P[1],z=_("orderBy","produto"),q=Object(u.a)(z,2),D=q[0],F=q[1],R=_("clienteId",null),L=Object(u.a)(R,1)[0],M=_("tamColuna",2),V=Object(u.a)(M,2),J=V[0],Q=V[1],U=Object(a.useState)("p-col-12 p-md-6 p-lg-"+J),H=Object(u.a)(U,2),Y=H[0],X=H[1],K=Object(a.useState)(!1),Z=Object(u.a)(K,2),ee=Z[0],oe=Z[1],ae=_("colecoes",[]),ne=Object(u.a)(ae,1)[0],ce=_("periodos",[]),re=Object(u.a)(ce,1)[0];Object(a.useEffect)((function(){document.title="Greenish B2B | Produtos"}),[]);var ie=function(e,t,o,n){var c=Object(a.useState)({}),r=Object(u.a)(c,2),i=r[0],s=r[1],d=Object(a.useState)(!1),l=Object(u.a)(d,2),j=l[0],b=l[1],p=Object(f.g)(),O=_("token",null),m=Object(u.a)(O,2),v=m[0];return m[1],Object(a.useEffect)((function(){var a=x.a.parse(window.location.search),c=g+p.pathname+"/",r=e;"Todas"===r&&(r=null);var i=t;"Todos"===i&&(i=null),h()({method:"GET",url:c,headers:{Authorization:"Token "+v},params:{query:a.query,colecao:r,periodo:i,order_by:n,clienteId:o}}).then((function(e){s(e.data),console.log(e.data.isBarCode),b(e.data.isBarCode)}))}),[p,e,t,o,n]),{produtos:i,isBarCode:j}}(B,A,L,D),se=ie.produtos,de=ie.isBarCode;console.log(de);return Object(a.useEffect)((function(){if("lista"in se){C(se.lista.length);var e,t=se.lista.slice(i,i+j);e=t.map((function(e,t){return Object(N.jsx)("div",{className:Y,children:Object(N.jsx)(W,{produto:e,isBarCode:de},t)})})),n(e),window.scrollTo(0,0)}}),[se,Y,i,j,de]),Object(a.useEffect)((function(){X("p-col-12 p-md-6 p-lg-"+J)}),[J]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{children:[Object(N.jsx)(p.Button,{label:"Filtrar",onClick:function(){oe(!0)},className:"p-mr-2"}),Object(N.jsx)(G.Dialog,{header:"Filtros",visible:ee,style:{width:"75vw"},onHide:function(){oe(!1)},children:Object(N.jsxs)("div",{className:"p-grid",children:[Object(N.jsxs)("div",{className:"p-col-12 p-md-6 p-lg-2",children:[Object(N.jsx)("h3",{children:"Colecao"}),Object(N.jsx)($.Dropdown,{id:"dropdown",value:B,options:ne,onChange:function(e){return T(e.value)}})]}),Object(N.jsxs)("div",{className:"p-col-12 p-md-6 p-lg-2",children:[Object(N.jsx)("h3",{children:"Periodo"}),Object(N.jsx)($.Dropdown,{id:"dropdown",value:A,options:re,onChange:function(e){return E(e.value)}})]}),Object(N.jsxs)("div",{className:"p-col-12 p-md-6 p-lg-2",children:[Object(N.jsx)("h3",{children:"Ordenar por"}),Object(N.jsx)($.Dropdown,{id:"dropdown",value:D,options:["produto","estoque","desconto"],onChange:function(e){return F(e.value)}})]}),Object(N.jsxs)("div",{className:"p-col-12 p-md-6 p-lg-2",children:[Object(N.jsx)("h3",{children:"Tamanho Imagem"}),Object(N.jsx)($.Dropdown,{id:"dropdown",value:J,options:[2,3,4],onChange:function(e){return Q(e.value)}})]})]})})]}),Object(N.jsx)("div",{className:"p-grid",children:o}),Object(N.jsx)(te.Paginator,{first:i,rows:j,totalRecords:v,rowsPerPageOptions:[12,24,36],onPageChange:function(e){s(e.first),b(e.rows)}})]})}var ae=o(81);function ne(e){var t=Object(a.useState)(!1),o=Object(u.a)(t,2),n=o[0],c=o[1],r=_("token",null),i=Object(u.a)(r,1)[0],s=Object(a.useState)(!0),d=Object(u.a)(s,2),l=d[0],j=d[1],b=Object(a.useRef)(null),O=function(){c(!1)},m=function(){h()({method:"GET",url:g+"/carrinho/delete_item/"+e.produto.id+"/",headers:{Authorization:"Token "+i}}).then((function(t){e.forceUpdate()}))},f=e.produto.preco-e.produto.desconto,v=e.produto.preco,x=Object(N.jsxs)("div",{children:[Object(N.jsx)("h4",{children:e.produto.produto__descricao+" - "+e.produto.produto__produto}),Object(N.jsx)("p",{children:"Qtd: "+e.produto.qtd_item+" | Valor: "+L(e.produto.valor_item)}),e.produto.desconto>0?Object(N.jsx)(K.Chip,{label:"Pre\xe7o: De "+L(v)+" por R$"+L(f)}):Object(N.jsx)(K.Chip,{label:"Pre\xe7o: "+L(e.produto.preco)})]});return Object(N.jsx)("div",{className:"p-shadow-2 p-m-2",children:Object(N.jsxs)(Y.Card,{header:x,children:[Object(N.jsx)(A.Messages,{ref:b}),Object(N.jsx)("img",{top:!0,width:"100%",src:e.produto.produto__url_imagem,alt:"Sem Imagem"}),Object(N.jsxs)("div",{className:"p-grid",children:[Object(N.jsx)(p.Button,{label:"Remover",onClick:function(){Object(z.confirmDialog)({message:"Confirma a exclusao do produto?",header:"Confirmacao",icon:"pi pi-exclamation-triangle",acceptLabel:"Sim",rejectLabel:"Nao",accept:function(){return m()}})}}),Object(N.jsxs)(ae.Panel,{header:"Alterar",collapsed:l,onToggle:function(e){return j(e.value)},toggleable:!0,children:[Object(N.jsx)("div",{className:"p-field p-col-12 p-md-4 p-mt-1",children:Object(N.jsxs)("span",{className:"p-float-label",children:[Object(N.jsx)($.Dropdown,{inputId:"dropdown",value:e.periodoAtual,options:JSON.parse(e.produto.periodos_alteracao),onChange:function(t){return function(t){if(console.log(t),""!==t){var o={periodo:t,produto:e.produto},a={headers:{Authorization:"Token "+i}};h.a.post(g+"/carrinho/update_periodo/"+e.produto.id+"/",o,a).then((function(t){t.data.confirmed?(j(!1),e.forceUpdate()):b.current.show([{severity:"error",summary:t.data.message,sticky:!1}])})).catch((function(e){console.log(e.message)}))}}(t.value)}}),Object(N.jsx)("label",{htmlFor:"dropdown",children:"Periodo"})]})}),Object(N.jsx)(p.Button,{label:"Alterar Quantidades",onClick:function(){c(!0)}})]})]}),Object(N.jsx)("div",{className:"p-field p-col-12 p-md-3",children:Object(N.jsx)(G.Dialog,{header:e.produto.produto__produto,maximizable:!0,visible:n,style:{width:"75vw"},onHide:function(){return O()},children:Object(N.jsxs)("div",{className:"p-grid",children:[Object(N.jsx)("div",{className:"p-col",children:Object(N.jsx)("img",{top:!0,width:"100%",src:e.produto.produto__url_imagem,alt:"Sem Imagem"})}),Object(N.jsx)("div",{className:"p-col-fixed",style:{width:"500px"},children:Object(N.jsx)(ce,{periodoAtual:e.periodoAtual,produto:e.produto,forceUpdate:e.forceUpdate,hideModal:O})})]})})})]})})}function ce(e){var t=Object(a.useState)(e.produto),o=Object(u.a)(t,1)[0],n=Object(a.useState)(e.periodoAtual),c=Object(u.a)(n,1)[0],r=Object(a.useState)({}),i=Object(u.a)(r,2),s=i[0],d=i[1],l=Object(a.useRef)(null),j=Object(a.useState)(Object(N.jsx)("div",{})),b=Object(u.a)(j,2),O=b[0],m=b[1],f=_("clienteId",null),v=Object(u.a)(f,1)[0],x=_("carrinhoId",null),w=Object(u.a)(x,1)[0],S=Object(a.useState)(!1),y=Object(u.a)(S,2),k=y[0],B=y[1],T=Object(a.useState)(e.produto.observacao_item),I=Object(u.a)(T,2),P=I[0],E=I[1],z=_("token",null),q=Object(u.a)(z,1)[0],D=C(o.produto__produto,c).dadosPeriodo;Object(a.useEffect)((function(){var e=function(e,t){var o={},a=JSON.parse(t.qtds),n=!1;for(var c in e){var r=e[c],i=r.cor,s=new Array(t.produto__qtd_tamanhos).fill(0);if(i in a)if(r.liberacao)s=a[i];else{var d=ie(a[i],r.qtds),l=Object(u.a)(d,2);s=l[0],l[1]&&(n=!0)}o[i]=s}return[o,n]}(D,o),t=Object(u.a)(e,2),a=t[0];t[1];d(a)}),[D]),Object(a.useEffect)((function(){if(""!==c){var e=D.map((function(e){return Object(N.jsx)(re,{dados:e,pedido:s,setPedido:d})}));m(e)}}),[s]);return Object(N.jsxs)("div",{children:[Object(N.jsx)(A.Messages,{ref:l}),Object(N.jsxs)("div",{className:"p-grid",children:[Object(N.jsx)("div",{className:"p-col",children:"TIPO"}),Object(N.jsx)("div",{className:"p-col",children:"COR"}),JSON.parse(o.produto__tamanhos).map((function(e){return Object(N.jsx)("div",{className:"p-col-1",children:e})}))]}),O,Object(N.jsx)(p.Button,{label:"Observa\xe7\xe3o",onClick:function(){return B(!0)},className:"p-mr-2"}),Object(N.jsx)(G.Dialog,{header:"Observa\xe7\xe3o Item",visible:k,onHide:function(){return B(!1)},children:Object(N.jsx)("div",{children:Object(N.jsx)(X.InputTextarea,{rows:2,cols:50,value:P,onChange:function(e){return E(e.target.value)}})})}),Object(N.jsx)(p.Button,{label:"Alterar",onClick:function(){var t=0;for(var a in s){t+=s[a].reduce((function(e,t){return e+t}),0)}var n={produto:o,qtds:s,qtd_total:t,clienteId:v,carrinhoId:w,observacao_item:P},c={headers:{Authorization:"Token "+q}};h.a.post(g+"/carrinho/update_qtds/"+o.id+"/",n,c).then((function(t){t.data.confirmed?(l.current.show([{severity:"success",summary:t.data.message,sticky:!0}]),e.forceUpdate(),e.hideModal()):l.current.show([{severity:"error",summary:t.data.message,sticky:!0}])})).catch((function(e){console.log(e.message)}))}})]})}function re(e){var t=function(e,t,o){var a=t.pedido;a[t.dados.cor][o]=e,t.setPedido(a)};return Object(N.jsxs)("div",{className:"p-grid",children:[Object(N.jsx)("div",{className:"p-col",children:e.dados.desc_liberacao}),Object(N.jsx)("div",{className:"p-col",children:e.dados.cor+" - "+e.dados.desc_cor}),function(e){var o=[];if(0===Object.keys(e.pedido).length)return o.map((function(e){return e}));var a=function(){var a=n;e.dados.liberacao?o.push(Object(N.jsx)("div",{className:"p-col-1 p-mt-4",children:Object(N.jsx)(H.InputNumber,{min:0,id:e.dados.cor+a,value:e.pedido[e.dados.cor][a],onValueChange:function(o){return t(o.value,e,a)},mode:"decimal",showButtons:!0,buttonLayout:"vertical",style:{width:"2.5em"},decrementButtonClassName:"p-button-secondary",incrementButtonClassName:"p-button-secondary",incrementButtonIcon:"pi pi-plus",decrementButtonIcon:"pi pi-minus"})})):o.push(Object(N.jsx)("div",{className:"p-col-1 p-mt-4",children:Object(N.jsxs)("span",{className:"p-float-label",children:[Object(N.jsx)(H.InputNumber,{max:e.dados.qtds[a],min:0,id:e.dados.cor+a,value:e.pedido[e.dados.cor][a],onValueChange:function(o){return t(o.value,e,a)},mode:"decimal",showButtons:!0,buttonLayout:"vertical",style:{width:"2.5em"},decrementButtonClassName:"p-button-secondary",incrementButtonClassName:"p-button-secondary",incrementButtonIcon:"pi pi-plus",decrementButtonIcon:"pi pi-minus"}),Object(N.jsx)("label",{htmlFor:e.dados.cor+a,children:e.dados.qtds[a]})]})}))};for(var n in e.dados.qtds)a();return o.map((function(e){return e}))}(e)]})}function ie(e,t){var o=[],a=!1;for(var n in e){t[n]-e[n]<0?(o.push(t[n]),a=!0):o.push(e[n])}return[o,a]}o(178),o(180),o(182);function se(){var e=Object(a.useState)(Object(N.jsx)("div",{})),t=Object(u.a)(e,2),o=t[0],n=t[1],c=Object(a.useState)(0),r=Object(u.a)(c,2),i=r[0],s=r[1],d=_("clienteId",null),l=Object(u.a)(d,2),j=l[0],b=l[1],O=_("clienteNome",null),m=Object(u.a)(O,2),f=(m[0],m[1]),v=_("carrinhoId",null),x=Object(u.a)(v,2),C=x[0],w=x[1],S=_("token",null),y=Object(u.a)(S,2),k=y[0],B=(y[1],_("isRep",null)),T=Object(u.a)(B,2),I=T[0],P=(T[1],Object(a.useState)(!1)),A=Object(u.a)(P,2),E=A[0],z=A[1],q=Object(a.useState)("Real"),D=Object(u.a)(q,2),F=D[0],R=(D[1],_("tipoConta",null)),M=Object(u.a)(R,1)[0],V=function(e,t){var o=Object(a.useState)([]),n=Object(u.a)(o,2),c=n[0],r=n[1],i=Object(a.useState)(0),s=Object(u.a)(i,2),d=s[0],l=s[1],j=Object(a.useState)(0),b=Object(u.a)(j,2),p=b[0],O=b[1],m=Object(a.useState)(""),f=Object(u.a)(m,2),v=f[0],x=f[1],g=Object(a.useState)(""),C=Object(u.a)(g,2),N=C[0],w=C[1],S=Object(a.useState)(null),y=Object(u.a)(S,2),k=y[0],B=y[1],T=_("carrinhoId",null),I=Object(u.a)(T,2),P=I[0],A=I[1],E=_("token",null),z=Object(u.a)(E,2),q=z[0];return z[1],Object(a.useEffect)((function(){var e={carrinhoId:P,clienteId:t};h()({method:"GET",headers:{Authorization:"Token "+q},url:"https://greencomapi.azurewebsites.net/carrinho/",params:e}).then((function(e){console.log(e.data),e.data.confirmed&&A(e.data.carrinhoId),r(e.data.dados),x(e.data.observacoes),w(e.data.razao_social),B(e.data.message),l(e.data.valor_total),O(e.data.qtd_total)}))}),[e,P,v,d,p,N]),{carrinho:c,emptyMessage:k,observacoes:v,valorTotal:d,qtdTotal:p,razaoSocial:N}}(i,j),J=V.carrinho,Q=V.emptyMessage,U=V.observacoes,H=V.valorTotal,Y=V.qtdTotal,$=V.razaoSocial,W=Object(a.useState)(""),Z=Object(u.a)(W,2),ee=Z[0],te=Z[1],oe=function(){s((function(e){return e+1}))};Object(a.useEffect)((function(){document.title="Greenish B2B | Carrinho"}),[]),Object(a.useEffect)((function(){te(U)}),[U]),Object(a.useEffect)((function(){var e=J,t=Object(N.jsx)("div",{className:"p-col-12 p-md-6 p-lg-3"});e.length>0&&(t=e.map((function(e,t){return Object(N.jsx)("div",{className:"p-col-12 p-md-12 p-lg-12",children:Object(N.jsx)(de,{forceUpdate:oe,periodoAtual:e.periodo,qtd_periodo:e.qtd_periodo,valor_periodo:e.valor_periodo,itens:e.itens},t)})}))),n(t)}),[J,Q,C,i]);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("p",{children:Q}),Object(N.jsx)(K.Chip,{label:"Cliente: "+$}),Object(N.jsx)(K.Chip,{label:"Quantidade Total: "+Y}),Object(N.jsx)(K.Chip,{label:"Valor Total: "+L(H)}),Object(N.jsx)(p.Button,{label:"Salvar",onClick:function(){return z(!0)},className:"p-button-rounded p-mr-2"}),Object(N.jsxs)(G.Dialog,{header:"Observacoes",visible:E,onHide:function(){return z(!1)},children:[Object(N.jsx)("div",{children:Object(N.jsx)(X.InputTextarea,{rows:10,cols:50,value:ee,onChange:function(e){return te(e.target.value)}})}),Object(N.jsx)("div",{children:Object(N.jsx)(p.Button,{label:"Salvar",className:"p-d-block p-mx-auto p-mt-2",onClick:function(){return function(){if("visitante"===M)h()({method:"GET",url:g+"/pedidos/gera_pdf/"+C+"/",headers:{Authorization:"Token "+k}}).then((function(e){e.data.confirmed?window.open(g+"/"+e.data.file,"popUpWindow"):console.log(e.data)}));else{var e=!1;"Teste"===F&&(e=!0),h()({method:"GET",url:g+"/pedidos/salva/"+C+"/",headers:{Authorization:"Token "+k},params:{observacoes:ee,isTeste:e}}).then((function(e){e.data.confirmed?(I?(b(null),f(null),w(null)):w(null),window.location.href="/pedidos"):console.log(e.data)}))}}()}})})]}),Object(N.jsx)("div",{className:"p-grid",children:o})]})}function de(e){var t,o=e.itens.slice();return t=o.map((function(t,o){return Object(N.jsx)("div",{className:"p-col-6 p-md-6 p-lg-2",children:Object(N.jsx)(ne,{periodoAtual:e.periodoAtual,forceUpdate:e.forceUpdate,produto:t},o)})})),Object(N.jsxs)(Y.Card,{title:e.periodoAtual,children:[Object(N.jsx)("p",{children:"Quantidade Periodo: "+e.qtd_periodo+" | Valor Periodo: "+L(e.valor_periodo)}),Object(N.jsx)("div",{className:"p-grid",children:t})]})}function le(e){var t=Object(a.useState)(!1),o=Object(u.a)(t,2),n=o[0],c=o[1],r=_("token",null),i=(Object(u.a)(r,1)[0],Object(a.useState)(!0)),s=Object(u.a)(i,2),d=(s[0],s[1],Object(a.useRef)(null)),l=function(){c(!1)},j=e.produto.preco-e.produto.desconto,b=e.produto.preco,O=Object(N.jsxs)("div",{children:[Object(N.jsx)("h4",{children:e.produto.produto__descricao+" - "+e.produto.produto__produto}),Object(N.jsx)("p",{children:"Qtd: "+e.produto.qtd_item+" | Valor: "+L(e.produto.valor_item)}),Object(N.jsx)("p",{children:"Qtd Entregar: "+e.produto.qtd_item_entregar}),e.produto.desconto>0?Object(N.jsx)(K.Chip,{label:"Pre\xe7o: De "+L(b)+" por R$"+L(j)}):Object(N.jsx)(K.Chip,{label:"Pre\xe7o: "+L(e.produto.preco)})]});return Object(N.jsx)("div",{className:"p-shadow-2 p-m-2",children:Object(N.jsxs)(Y.Card,{header:O,children:[Object(N.jsx)(A.Messages,{ref:d}),Object(N.jsx)("img",{top:!0,width:"100%",src:e.produto.produto__url_imagem,alt:"Sem Imagem"}),Object(N.jsx)("div",{className:"p-grid",children:Object(N.jsx)(p.Button,{label:"Detalhes",onClick:function(){c(!0)},className:"p-mr-2"})}),Object(N.jsx)("div",{className:"p-field p-col-12 p-md-3",children:Object(N.jsx)(G.Dialog,{header:e.produto.produto__produto,maximizable:!0,visible:n,style:{width:"75vw"},onHide:function(){return l()},children:Object(N.jsxs)("div",{className:"p-grid",children:[Object(N.jsx)("div",{className:"p-col",children:Object(N.jsx)("img",{top:!0,width:"100%",src:e.produto.produto__url_imagem,alt:"Sem Imagem"})}),Object(N.jsx)("div",{className:"p-col-fixed",style:{width:"500px"},children:Object(N.jsx)(ue,{periodoAtual:e.periodoAtual,produto:e.produto,hideModal:l})})]})})})]})})}function ue(e){var t=Object(a.useState)(e.produto),o=Object(u.a)(t,1)[0],n=Object(a.useState)(e.periodoAtual),c=Object(u.a)(n,1)[0],r=Object(a.useState)({}),i=Object(u.a)(r,2),s=i[0],d=i[1],l=Object(a.useRef)(null),j=Object(a.useState)(Object(N.jsx)("div",{})),b=Object(u.a)(j,2),p=b[0],O=b[1],m=_("clienteId",null),h=(Object(u.a)(m,1)[0],_("carrinhoId",null)),f=(Object(u.a)(h,1)[0],Object(a.useState)(e.produto.observacao_item)),v=Object(u.a)(f,2),x=(v[0],v[1],_("token",null)),g=(Object(u.a)(x,1)[0],C(o.produto__produto,c).dadosPeriodo);Object(a.useEffect)((function(){var e=function(e,t){var o={},a=JSON.parse(t.qtds),n=!1;for(var c in e){var r=e[c],i=r.cor,s=new Array(t.produto__qtd_tamanhos).fill(0);if(i in a)if(r.liberacao)s=a[i];else{var d=be(a[i],r.qtds),l=Object(u.a)(d,2);s=l[0],l[1]&&(n=!0)}o[i]=s}return[o,n]}(g,o),t=Object(u.a)(e,2),a=t[0];t[1];d(a)}),[g]),Object(a.useEffect)((function(){if(""!==c){var e=g.map((function(e){return Object(N.jsx)(je,{dados:e,pedido:s,setPedido:d})}));O(e)}}),[s]);return Object(N.jsxs)("div",{children:[Object(N.jsx)(A.Messages,{ref:l}),Object(N.jsxs)("div",{className:"p-grid",children:[Object(N.jsx)("div",{className:"p-col",children:"TIPO"}),Object(N.jsx)("div",{className:"p-col",children:"COR"}),JSON.parse(o.produto__tamanhos).map((function(e){return Object(N.jsx)("div",{className:"p-col-1",children:e})}))]}),p]})}function je(e){return Object(N.jsxs)("div",{className:"p-grid",children:[Object(N.jsx)("div",{className:"p-col",children:e.dados.desc_liberacao}),Object(N.jsx)("div",{className:"p-col",children:e.dados.cor+" - "+e.dados.desc_cor}),function(e){var t=[];if(0===Object.keys(e.pedido).length)return t.map((function(e){return e}));var o=function(){var o=a;t.push(Object(N.jsx)("div",{className:"p-col-1 p-mt-4",children:Object(N.jsx)(H.InputNumber,{min:0,id:e.dados.cor+o,disabled:!0,value:e.pedido[e.dados.cor][o],onValueChange:function(t){return function(e,t,o){var a=t.pedido;a[t.dados.cor][o]=e,t.setPedido(a)}(t.value,e,o)},mode:"decimal",showButtons:!0,buttonLayout:"vertical",style:{width:"2.5em"},decrementButtonClassName:"p-button-secondary",incrementButtonClassName:"p-button-secondary",incrementButtonIcon:"pi pi-plus",decrementButtonIcon:"pi pi-minus"})}))};for(var a in e.dados.qtds)o();return t.map((function(e){return e}))}(e)]})}function be(e,t){var o=[],a=!1;for(var n in e){t[n]-e[n]<0?(o.push(t[n]),a=!0):o.push(e[n])}return[o,a]}function pe(){var e=Object(a.useState)(Object(N.jsx)("div",{})),t=Object(u.a)(e,2),o=t[0],n=t[1],c=_("token",null),r=Object(u.a)(c,2),i=r[0],s=(r[1],Object(a.useState)([])),d=Object(u.a)(s,2),l=d[0],j=d[1],b=Object(a.useState)(null),p=Object(u.a)(b,2),O=p[0],m=p[1],f=Object(a.useState)(null),v=Object(u.a)(f,2),x=v[0],C=v[1],w=Object(a.useState)(null),S=Object(u.a)(w,2),y=S[0],k=S[1],B=Object(a.useState)(null),T=Object(u.a)(B,2),I=T[0],P=T[1],A=Object(a.useState)(null),E=Object(u.a)(A,2),z=E[0],q=E[1],D=Object(a.useState)(null),F=Object(u.a)(D,2),R=F[0],G=F[1];return Object(a.useEffect)((function(){document.title="Greenish B2B | Carrinho";var e=window.location.href,t=e.substring(e.lastIndexOf("/")+1),o=g+"/pedido/"+t;h()({method:"GET",headers:{Authorization:"Token "+i},url:o}).then((function(e){console.log(e.data),e.data.confirmed&&(j(e.data.dados),G(e.data.razao_social),m(e.data.message),C(e.data.valor_total),k(e.data.qtd_total),P(e.data.valor_total_entregar),q(e.data.qtd_total_entregar)),console.log(e.data.dados)}))}),[]),Object(a.useEffect)((function(){var e=l,t=Object(N.jsx)("div",{className:"p-col-12 p-md-6 p-lg-3"});e.length>0&&(t=e.map((function(e,t){return Object(N.jsx)("div",{className:"p-col-12 p-md-12 p-lg-12",children:Object(N.jsx)(Oe,{periodoAtual:e.periodo,qtd_periodo:e.qtd_periodo,valor_periodo:e.valor_periodo,qtd_periodo_entregar:e.qtd_periodo_entregar,valor_periodo_entregar:e.valor_periodo_entregar,itens:e.itens},t)})}))),n(t)}),[l,O]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("p",{children:O}),Object(N.jsx)(K.Chip,{label:"Cliente: "+R}),Object(N.jsx)(K.Chip,{label:"Quantidade Total: "+y}),Object(N.jsx)(K.Chip,{label:"Quantidade a Total Entregar: "+z}),Object(N.jsx)(K.Chip,{label:"Valor Total: "+L(x)}),Object(N.jsx)(K.Chip,{label:"Valor Total a Entregar: "+L(I)}),Object(N.jsx)("div",{className:"p-grid",children:o})]})}function Oe(e){console.log(e);var t,o=e.itens.slice();return t=o.map((function(t,o){return Object(N.jsx)("div",{className:"p-col-6 p-md-6 p-lg-2",children:Object(N.jsx)(le,{periodoAtual:e.periodoAtual,produto:t},o)})})),Object(N.jsxs)(Y.Card,{title:e.periodoAtual,children:[Object(N.jsx)("p",{children:"Quantidade Periodo: "+e.qtd_periodo+" | Valor Periodo: "+L(e.valor_periodo)}),Object(N.jsx)("p",{children:"Quantidade Periodo a Entregar: "+e.qtd_periodo_entregar+" | Valor Periodo a Entregar: "+L(e.valor_periodo_entregar)}),Object(N.jsx)("div",{className:"p-grid",children:t})]})}var me=function(){var e=_("token",null),t=Object(u.a)(e,2),o=t[0],c=(t[1],_("carrinhoId",null)),r=Object(u.a)(c,2),i=r[0],s=(r[1],Object(a.useRef)(null)),d=Object(a.useState)([]),l=Object(u.a)(d,2),j=l[0],b=l[1];Object(a.useEffect)((function(){O(),document.title="Greenish B2B | Promocoes"}),[]);var O=function(){h()({method:"GET",headers:{Authorization:"Token "+o},url:"https://greencomapi.azurewebsites.net/promocoes"}).then((function(e){b(e.data.promocoes),console.log(e.data.promocoes)}))};return Object(N.jsxs)("div",{children:[Object(N.jsx)(A.Messages,{ref:s}),Object(N.jsx)("div",{className:"card",children:Object(N.jsxs)(q.DataTable,{value:j,children:[Object(N.jsx)(D.Column,{field:"descricao",header:"Promocao"}),Object(N.jsx)(D.Column,{header:"Acoes",body:function(e){var t=e.condicoes.slice().map((function(t,a){return Object(N.jsx)(p.Button,{className:"p-mr-2",label:e.tipo_condicao+" - "+t.condicao,onClick:function(){return function(e,t){var a=g+"/promocoes/"+i;h()({method:"GET",url:a,headers:{Authorization:"Token "+o},params:{id_promocao:e,id_condicao:t}}).then((function(e){s.current.show([{severity:"success",summary:"Promo\xe7\xe3o computada com sucesso",sticky:!1}])}))}(e.id_promocao,t.id)}})}));return Object(N.jsx)(n.a.Fragment,{children:t})}})]})}),Object(N.jsx)(p.Button,{className:"p-d-block p-mx-auto p-mt-6",label:"Remover Promo\xe7\xf5es",onClick:function(){return function(){var e=g+"/promocoes/remove/"+i;h()({method:"GET",headers:{Authorization:"Token "+o},url:e}).then((function(e){s.current.show([{severity:"success",summary:"Promo\xe7\xf5es Removidas com sucesso",sticky:!1}])}))}()}})]})},he=o(48),fe=function(e){Object(d.a)(o,e);var t=Object(l.a)(o);function o(e){var a;return Object(i.a)(this,o),(a=t.call(this,e)).state={},a}return Object(s.a)(o,[{key:"verificaLogin",value:function(){var e=JSON.parse(localStorage.getItem("loggedin"));return null==e&&(e=!1),e}},{key:"render",value:function(){var e=this.verificaLogin();return Object(N.jsx)("div",{children:Object(N.jsx)("div",{children:Object(N.jsx)(he.a,{children:Object(N.jsxs)("div",{children:[Object(N.jsx)("nav",{children:Object(N.jsx)(S,{loggedIn:e})}),Object(N.jsxs)(f.d,{children:[Object(N.jsx)(f.b,{path:"/login",component:E}),Object(N.jsx)(f.b,{path:"/clientes",component:F}),Object(N.jsx)(f.b,{path:"/pedidos",component:J}),Object(N.jsx)(f.b,{path:"/promocoes",component:Q}),Object(N.jsx)(f.b,{path:"/conta",component:U}),Object(N.jsx)(f.b,{path:"/carrinho",component:se}),Object(N.jsx)(f.b,{path:"/busca",component:oe}),Object(N.jsx)(f.b,{path:"/teste",component:me}),Object(N.jsx)(f.b,{path:"/pedido/:idPedido",component:pe}),Object(N.jsx)(f.b,{path:"/:linha/:categoria/:subcategoria",children:e?Object(N.jsx)(oe,{}):Object(N.jsx)(f.a,{to:"/login"})}),Object(N.jsx)(f.b,{path:"/:linha/:categoria",children:e?Object(N.jsx)(oe,{}):Object(N.jsx)(f.a,{to:"/login"})}),Object(N.jsx)(f.b,{path:"/",component:B})]})]})})})})}}]),o}(n.a.Component),ve=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,189)).then((function(t){var o=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;o(e),a(e),n(e),c(e),r(e)}))};o(185),o(186),o(187);P.a.initialize("G-XGGNKTY87X"),r.a.render(Object(N.jsx)(n.a.StrictMode,{children:Object(N.jsx)(fe,{})}),document.getElementById("root")),ve()},86:function(e,t,o){}},[[188,1,2]]]);
//# sourceMappingURL=main.b834deeb.chunk.js.map